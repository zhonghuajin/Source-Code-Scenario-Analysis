io.netty.channel.AbstractChannelHandlerContext.write    22    622    //写数据
io.netty.channel.AbstractChannelHandlerContext.newPromise    22    763    //为异步请求新建一个promise。写数据时异步操作，这里为写请求建一个promise
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.AbstractChannelHandlerContext.executor    22    112    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.nio.AbstractNioChannel.eventLoop    22    117    //略
io.netty.channel.AbstractChannel.eventLoop    22    109    //略
io.netty.channel.AbstractChannelHandlerContext.write    22    627    //略
io.netty.util.concurrent.DefaultPromise.isDone    22    106    //略
io.netty.channel.DefaultChannelPromise.channel    22    66    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.AbstractChannelHandlerContext.executor    22    112    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.nio.AbstractNioChannel.eventLoop    22    117    //略
io.netty.channel.AbstractChannel.eventLoop    22    109    //略
io.netty.util.concurrent.AbstractEventExecutor.inEventLoop    22    39    //略
io.netty.util.concurrent.SingleThreadEventExecutor.inEventLoop    22    428    //略
io.netty.channel.DefaultChannelHandlerContext.handler    22    35    //略
io.netty.handler.codec.MessageToByteEncoder.write    22    100    //用于分析的示例中，发起write的context的下一个context是MessageToByteEncoder，write事件传给了它处理
io.netty.handler.codec.MessageToByteEncoder.acceptOutboundMessage    22    95    //handler判断是不是自己需要处理的message类型
io.netty.handler.codec.MessageToByteEncoder.allocateBuffer    22    139    //略
io.netty.channel.AbstractChannelHandlerContext.alloc    22    107    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.socket.nio.NioSocketChannel.config    22    112    //略
io.netty.channel.DefaultChannelConfig.getAllocator    22    246    //略
io.netty.buffer.AbstractByteBufAllocator.ioBuffer    22    98    //略
io.netty.buffer.AbstractByteBufAllocator.directBuffer    22    146    //略
io.netty.buffer.AbstractByteBufAllocator.directBuffer    22    151    //略
io.netty.buffer.UnpooledByteBufAllocator.newDirectBuffer    22    50    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.allocateDirect    22    106    //略
io.netty.util.ResourceLeakDetector.open    22    201    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    842    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    833    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.AbstractByteBuf.ensureWritable    22    245    //略
io.netty.buffer.AbstractByteBuf.writableBytes    22    154    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.setBytes    22    301    //略
io.netty.buffer.AbstractByteBuf.checkIndex    22    1136    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    842    //略。根据协议组织数据包的时候多次调用writeBytes函数，所以下面会有一些列重复的函数
io.netty.buffer.AbstractByteBuf.writeBytes    22    833    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.AbstractByteBuf.ensureWritable    22    245    //略
io.netty.buffer.AbstractByteBuf.writableBytes    22    154    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.setBytes    22    301    //略
io.netty.buffer.AbstractByteBuf.checkIndex    22    1136    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    842    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    833    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.AbstractByteBuf.ensureWritable    22    245    //略
io.netty.buffer.AbstractByteBuf.writableBytes    22    154    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.setBytes    22    301    //略
io.netty.buffer.AbstractByteBuf.checkIndex    22    1136    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    842    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    833    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.AbstractByteBuf.ensureWritable    22    245    //略
io.netty.buffer.AbstractByteBuf.writableBytes    22    154    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.setBytes    22    301    //略
io.netty.buffer.AbstractByteBuf.checkIndex    22    1136    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    842    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    833    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.AbstractByteBuf.ensureWritable    22    245    //略
io.netty.buffer.AbstractByteBuf.writableBytes    22    154    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.setBytes    22    301    //略
io.netty.buffer.AbstractByteBuf.checkIndex    22    1136    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    842    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    833    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.AbstractByteBuf.ensureWritable    22    245    //略
io.netty.buffer.AbstractByteBuf.writableBytes    22    154    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.setBytes    22    301    //略
io.netty.buffer.AbstractByteBuf.checkIndex    22    1136    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    842    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    833    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.AbstractByteBuf.ensureWritable    22    245    //略
io.netty.buffer.AbstractByteBuf.writableBytes    22    154    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.setBytes    22    301    //略
io.netty.buffer.AbstractByteBuf.checkIndex    22    1136    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    842    //略
io.netty.buffer.AbstractByteBuf.writeBytes    22    833    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.AbstractByteBuf.ensureWritable    22    245    //略
io.netty.buffer.AbstractByteBuf.writableBytes    22    154    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.setBytes    22    301    //略
io.netty.buffer.AbstractByteBuf.checkIndex    22    1136    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.buffer.AbstractByteBuf.isReadable    22    129    //略
io.netty.channel.AbstractChannelHandlerContext.write    22    627    //略。到这里已经完成编码器handler对信息的编码，用它对应的context继续向下一个handler传播write事件。（pipeline是个双向链表，读的时候用findContextOutbound获取下一个节点，写的时候用findContextOutbound获取下一个节点）
io.netty.util.concurrent.DefaultPromise.isDone    22    106    //略    
io.netty.channel.DefaultChannelPromise.channel    22    66    //略    
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.AbstractChannelHandlerContext.executor    22    112    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.nio.AbstractNioChannel.eventLoop    22    117    //略
io.netty.channel.AbstractChannel.eventLoop    22    109    //略
io.netty.util.concurrent.AbstractEventExecutor.inEventLoop    22    39    //略
io.netty.util.concurrent.SingleThreadEventExecutor.inEventLoop    22    428    //略
io.netty.channel.nio.AbstractNioByteChannel.filterOutboundMessage    22    269    //判断message的类型。执行到这里write事件已经传播到head context，马上就要写到缓冲区了，netty只支持ByteBuf和FileRegion两种类型的message
io.netty.buffer.UnpooledUnsafeDirectByteBuf.isDirect    22    134        //略
io.netty.channel.socket.nio.NioSocketChannel.config    22    112        //略
io.netty.channel.DefaultChannelConfig.getMessageSizeEstimator    22    349    //返回计算message大小的对象
io.netty.channel.DefaultMessageSizeEstimator.newHandle    22    70    //略
io.netty.buffer.AbstractByteBuf.readableBytes    22    149    //略
io.netty.channel.ChannelOutboundBuffer.addMessage    22    115    //把message加到通道的写缓冲中
io.netty.buffer.AbstractByteBuf.readableBytes    22    149    //略
io.netty.util.Recycler.get    22    87    //略
io.netty.util.concurrent.FastThreadLocal.get    22    135    //略
io.netty.util.concurrent.FastThreadLocalThread.threadLocalMap    22    62    //略
io.netty.util.concurrent.FastThreadLocal.get    22    144    //略
io.netty.util.internal.InternalThreadLocalMap.indexedVariable    22    259    //略
io.netty.util.internal.InternalThreadLocalMap.setIndexedVariable    22    267    //略
io.netty.util.internal.InternalThreadLocalMap.indexedVariable    22    259    //略
io.netty.util.internal.UnsafeAtomicLongFieldUpdater.get    22    59    //略
io.netty.util.internal.UnsafeAtomicLongFieldUpdater.compareAndSet    22    39    //略
io.netty.channel.socket.nio.NioSocketChannel.config    22    112    //略
io.netty.channel.DefaultChannelConfig.getWriteBufferHighWaterMark    22    307    //略
io.netty.util.internal.RecyclableArrayList.recycle    22    153    //略
io.netty.util.Recycler.recycle    22    100    //略
io.netty.channel.DefaultChannelConfig.isAutoRead    22    274    //略
io.netty.channel.DefaultChannelPipeline.fireChannelReadComplete    22    852    //略
io.netty.channel.AbstractChannelHandlerContext.fireChannelReadComplete    22    326    //略
io.netty.channel.AbstractChannelHandlerContext.executor    22    112    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.nio.AbstractNioChannel.eventLoop    22    117    //略
io.netty.channel.AbstractChannel.eventLoop    22    109    //略
io.netty.util.concurrent.AbstractEventExecutor.inEventLoop    22    39    //略
io.netty.util.concurrent.SingleThreadEventExecutor.inEventLoop    22    428    //略
io.netty.channel.DefaultChannelHandlerContext.handler    22    35    //略
io.netty.handler.codec.ByteToMessageDecoder.channelReadComplete    22    282    //略
io.netty.handler.codec.ByteToMessageDecoder.discardSomeReadBytes    22    294    //略
io.netty.channel.AbstractChannelHandlerContext.fireChannelReadComplete    22    326    //略
io.netty.channel.AbstractChannelHandlerContext.executor    22    112    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.nio.AbstractNioChannel.eventLoop    22    117    //略
io.netty.channel.AbstractChannel.eventLoop    22    109    //略
io.netty.util.concurrent.AbstractEventExecutor.inEventLoop    22    39    //略
io.netty.util.concurrent.SingleThreadEventExecutor.inEventLoop    22    428    //略
io.netty.channel.DefaultChannelHandlerContext.handler    22    35    //略
io.netty.channel.AbstractChannelHandlerContext.flush    22    651    //在pipeline中传播flush事件。本示例在自定义的handler的channelReadComplete触发flush
io.netty.channel.AbstractChannelHandlerContext.executor    22    112    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.nio.AbstractNioChannel.eventLoop    22    117    //略
io.netty.channel.AbstractChannel.eventLoop    22    109    //略
io.netty.util.concurrent.AbstractEventExecutor.inEventLoop    22    39    //略
io.netty.util.concurrent.SingleThreadEventExecutor.inEventLoop    22    428    //略
io.netty.channel.DefaultChannelHandlerContext.handler    22    35    //略
io.netty.channel.ChannelOutboundHandlerAdapter.flush    22    115    //略
io.netty.channel.AbstractChannelHandlerContext.flush    22    651    //略
io.netty.channel.AbstractChannelHandlerContext.executor    22    112    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.nio.AbstractNioChannel.eventLoop    22    117    //略
io.netty.channel.AbstractChannel.eventLoop    22    109    //略
io.netty.util.concurrent.AbstractEventExecutor.inEventLoop    22    39    //略
io.netty.util.concurrent.SingleThreadEventExecutor.inEventLoop    22    428    //略
io.netty.channel.ChannelOutboundBuffer.addFlush    22    142    //略。涉及输出缓冲区的设计，数据结构实现层面的，这里不讨论
io.netty.util.concurrent.DefaultPromise.setUncancellable    22    456    //略
io.netty.channel.nio.AbstractNioChannel.selectionKey    22    124    //略
io.netty.channel.ChannelOutboundBuffer.isEmpty    22    605    //略
io.netty.channel.socket.nio.NioSocketChannel.isActive    22    122    //略
io.netty.channel.socket.nio.NioSocketChannel.javaChannel    22    117    //略
io.netty.channel.nio.AbstractNioChannel.javaChannel    22    112    //略
io.netty.channel.socket.nio.NioSocketChannel.doWrite    22    260    //flush过程中接近网络层的写操作
io.netty.channel.ChannelOutboundBuffer.size    22    597    //略
io.netty.channel.ChannelOutboundBuffer.nioBuffers    22    375    //略
io.netty.util.concurrent.FastThreadLocalThread.threadLocalMap    22    62    //略
io.netty.util.concurrent.FastThreadLocal.get    22    144    //略
io.netty.util.internal.InternalThreadLocalMap.indexedVariable    22    259    //略
io.netty.util.internal.InternalThreadLocalMap.setIndexedVariable    22    267    //略
io.netty.util.internal.InternalThreadLocalMap.indexedVariable    22    259    //略
io.netty.buffer.AbstractByteBuf.readerIndex    22    81    //略
io.netty.buffer.AbstractByteBuf.writerIndex    22    96    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.nioBufferCount    22    365    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.internalNioBuffer    22    380    //略
io.netty.buffer.AbstractByteBuf.checkIndex    22    1136    //略
io.netty.buffer.AbstractByteBuf.ensureAccessible    22    1189    //略
io.netty.buffer.AbstractReferenceCountedByteBuf.refCnt    22    48    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.capacity    22    139    //略
io.netty.channel.ChannelOutboundBuffer.nioBufferCount    22    473    //返回待发送buffer数（nioBuffers数组每个元素都是一个buffer）
io.netty.channel.ChannelOutboundBuffer.nioBufferSize    22    482    //返回待发送的字节数
io.netty.channel.socket.nio.NioSocketChannel.javaChannel    22    117    //略
io.netty.channel.nio.AbstractNioChannel.javaChannel    22    112    //略
io.netty.channel.socket.nio.NioSocketChannel.config    22    112    //略
io.netty.channel.DefaultChannelConfig.getWriteSpinCount    22    231    //返回一次最多能写多少个buffer的数目。设置这个变量是为了让各个channel都有机会发送数据，更加公平。
io.netty.channel.ChannelOutboundBuffer.removeBytes    22    327    //释放已经写到网络那部分的缓存
io.netty.channel.ChannelOutboundBuffer.current    22    219    //获取当前正写的message
io.netty.buffer.AbstractByteBuf.readerIndex    22    81    //略
io.netty.buffer.AbstractByteBuf.writerIndex    22    96    //略
io.netty.channel.ChannelOutboundBuffer.progress    22    231    //向代表异步请求的promise汇报请求的处理进度
io.netty.channel.ChannelOutboundBuffer.remove    22    247    //删除缓冲区中当前写操作写入的信息
io.netty.buffer.AbstractReferenceCountedByteBuf.release    22    99    //略
io.netty.util.internal.UnsafeAtomicIntegerFieldUpdater.compareAndSet    22    39    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.deallocate    22    400    //略
io.netty.buffer.UnpooledUnsafeDirectByteBuf.freeDirect    22    113    //略
io.netty.channel.DefaultChannelPromise.trySuccess    22    82    //略。每个message的写操作都配套一个promise，message希望操作完成要修改promise的结果
io.netty.util.concurrent.DefaultPromise.trySuccess    22    405//略
io.netty.util.concurrent.DefaultPromise.isDone    22    106//略
io.netty.util.concurrent.DefaultPromise.isDone    22    106//略
io.netty.util.internal.UnsafeAtomicLongFieldUpdater.get    22    59    //略
io.netty.util.internal.UnsafeAtomicLongFieldUpdater.compareAndSet    22    39//略
io.netty.util.internal.UnsafeAtomicIntegerFieldUpdater.compareAndSet    22    39//略
io.netty.util.Recycler.recycle    22    100    //略
io.netty.channel.ChannelOutboundBuffer.current    22    219    //略
io.netty.util.concurrent.FastThreadLocal.get    22    135    //略
io.netty.util.concurrent.FastThreadLocalThread.threadLocalMap    22    62    //略
io.netty.util.concurrent.FastThreadLocal.get    22    144    //略
io.netty.util.internal.InternalThreadLocalMap.indexedVariable    22    259    //略
io.netty.channel.ChannelOutboundBuffer.size    22    597    //略
io.netty.channel.nio.AbstractNioByteChannel.clearOpWrite    22    340    //让通道对写事件失去兴趣
io.netty.channel.nio.AbstractNioChannel.selectionKey    22    124    //返回通道对应的selectionKey
io.netty.channel.socket.nio.NioSocketChannel.config    22    112    //略
io.netty.channel.DefaultChannelConfig.isAutoRead    22    274    //略
io.netty.channel.DefaultChannelPipeline.read    22    933
io.netty.channel.AbstractChannelHandlerContext.read    22    592    //略
io.netty.channel.AbstractChannelHandlerContext.executor    22    112    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.nio.AbstractNioChannel.eventLoop    22    117    //略
io.netty.channel.AbstractChannel.eventLoop    22    109    //略
io.netty.util.concurrent.AbstractEventExecutor.inEventLoop    22    39    //略
io.netty.util.concurrent.SingleThreadEventExecutor.inEventLoop    22    428    //略
io.netty.channel.DefaultChannelHandlerContext.handler    22    35    //略
io.netty.channel.ChannelOutboundHandlerAdapter.read    22    93    //略
io.netty.channel.AbstractChannelHandlerContext.read    22    592    //略
io.netty.channel.AbstractChannelHandlerContext.executor    22    112    //略
io.netty.channel.AbstractChannelHandlerContext.channel    22    97    //略
io.netty.channel.nio.AbstractNioChannel.eventLoop    22    117    //略
io.netty.channel.AbstractChannel.eventLoop    22    109    //略
io.netty.util.concurrent.AbstractEventExecutor.inEventLoop    22    39    //略
io.netty.util.concurrent.SingleThreadEventExecutor.inEventLoop    22    428    //略
io.netty.channel.socket.nio.NioSocketChannel.isActive    22    122    //略
io.netty.channel.socket.nio.NioSocketChannel.javaChannel    22    117    //略
io.netty.channel.nio.AbstractNioChannel.javaChannel    22    112    //略
io.netty.channel.nio.AbstractNioChannel.doBeginRead    22    361    //略
io.netty.channel.DefaultChannelConfig.isAutoRead    22    274    //略
io.netty.channel.nio.AbstractNioChannel.isOpen    22    103    //略
